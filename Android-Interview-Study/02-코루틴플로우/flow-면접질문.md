## Flow ì˜ˆìƒ ë©´ì ‘ ì§ˆë¬¸

---

### ðŸŽ Q. Flowì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…?

### ðŸ A. 
- ì¼íšŒì„± ë°ì´í„° ì „ë‹¬ì´ ì•„ë‹Œ, ë°ì´í„°ê°€ ë³€ê²½ë  ë•Œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œì„œ ë°ì´í„°ë¥¼ ê³„ì†í•´ì„œ ì „ë‹¬í•˜ë„ë¡ í•˜ëŠ” í”„ë¡œê·¸ëž˜ë° ë°©ì‹ì¸ ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ëž˜ë°ì—ì„œ,
Producerê°€ Consumerì—ê²Œ **ì§€ì†ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬**í•˜ëŠ”ë°, ì´ê²ƒì„ **Data Stream**ì´ë¼ê³  í•©ë‹ˆë‹¤.
- í”Œë¡œìš°ëŠ” ì½”ë£¨í‹´ ìƒì—ì„œ ì´ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ êµ¬ì„±ìš”ì†Œ ìž…ë‹ˆë‹¤.

---

### ðŸŽ Q. Flowì˜ ì„¸ê°€ì§€ êµ¬ì„±ìš”ì†Œì™€ ê°ê°ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…?

### ðŸ A. 

- producer / intermediary / consumerë¡œ êµ¬ì„±
- ìƒì‚°ìž - ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´, ìµœì‹ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´ emitìœ¼ë¡œ ë°ì´í„° ìƒì„±, ì‹œê°„ì„ ì •í•´ì„œ ë°˜ë³µí•´ì„œ ê°€ì ¸ì˜¬ ìˆ˜ìžˆìŒ
- ì¤‘ê°„ì—°ì‚°ìž - ë°ì´í„°ë¥¼ ìˆ˜ì •/ê°€ê³µ ì˜ˆì™¸ì²˜ë¦¬í• ìˆ˜ìžˆìŒ, map/filter/onEach ì£¼ë¡œ ì‚¬ìš©, ë ˆí¬ì§€í† ë¦¬ì—ì„œ ê°€ì ¸ì™€ ì²˜ë¦¬í•¨
- ì†Œë¹„ìž - ë·°ëª¨ë¸ ë¶€ë¶„ì—ì„œ ê°€ì ¸ì™€ ì²˜ë¦¬í• ìˆ˜ìžˆìŒ. ë·°ëª¨ë¸ ìŠ¤ì½”í”„ ëŸ°ì¹˜ë¥¼ í™œìš©í•´ collect

---

### **ðŸŽ Q. Flowë¥¼ ì–´ë–¨ë•Œ ì“°ëŠ”ì§€? or Flowì˜ ìž¥ì **

### ðŸ A. 

ë°ì´í„°ë¥¼ ì½œë°±ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ë˜ê°€, ë°ì´í„°ë¥¼ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë°›ì•„ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œëŠ” Flow ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

Flow ë¥¼ ì‚¬ìš©í•˜ë©´ ë°ì´í„° ê´€ë ¨ ì½œë°± ë¦¬ìŠ¤ë„ˆë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ ë˜ê³ , ë°ì´í„° ë³€í˜•, ì—ëŸ¬ ì²˜ë¦¬ ë“± ë‹¤ì–‘í•œ API ë¥¼ ì œê³µí•˜ê³  ìžˆê¸° ë•Œë¬¸ì— FlowëŠ” ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ í™œìš© ê°€ì¹˜ê°€ ë†’ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.

---

### ðŸŽ Q. ë¼ì´ë¸Œë°ì´í„°ì™€ Flowì˜ ì°¨ì´?

### ðŸ A. 

ë‘˜ë‹¤ ê´€ì°° ê°€ëŠ¥í•œ ë°ì´í„° í™€ë” íƒ€ìž…ì´ë¼ëŠ” ê³µí†µì ì„ ê°€ì§‘ë‹ˆë‹¤.

ë¼ì´ë¸Œ ë°ì´í„°ëŠ” ì•ˆë“œë¡œì´ë“œì˜ ìˆ˜ëª… ì£¼ê¸°ë¥¼ ì¸ì‹í•  ìˆ˜ ìžˆì–´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìžˆëŠ” ìž¥ì ë“±ì„ ê°€ì§€ì§€ë§Œ, ë¹„ë™ê¸° ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì§€ì›í•˜ì§€ ì•Šì•„ ì˜¤ì§ Main Threadì—ì„œë§Œ ì‹¤í–‰ë˜ì–´ ë·° ìž‘ì—… ì´ì™¸ì˜ ë°ì´í„° í˜¸ì¶œ/ì²˜ë¦¬ ìž‘ì—…ë“±ì— ëŒ€í•œ ì„±ëŠ¥ ì €í•˜ ë‹¨ì ì´ ìžˆìŠµë‹ˆë‹¤.

í”Œë¡œìš°ëŠ” ë°˜ëŒ€ë¡œ ë¹„ë™ê¸° ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì§€ì›í•˜ì—¬ ê°’ì„ ì§€ì†ì ìœ¼ë¡œ ê´€ì°°í•  ìˆ˜ ìžˆì§€ë§Œ, ìƒëª…ì£¼ê¸°ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ë‹¨ì ì´ ì¡´ìž¬í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìˆœìˆ˜ ì½”í‹€ë¦°ì„ ì§€ì›í•˜ëŠ” í´ëž˜ìŠ¤ë¡œì¨ ì•ˆë“œë¡œì´ë“œ osì— ì¢…ì†ì ì´ì§€ ì•Šì•„ ë°ì´í„° ë ˆì´ì–´ì—ì„œ ì‚¬ìš©í•˜ê¸°ì— ì¢‹ë‹¤ëŠ” ìž¥ì ì´ ìžˆìŠµë‹ˆë‹¤. 

--- 

### ðŸŽ Q. Flowê°€ í´ë¦° ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œì˜ â€œLiveDataì˜ í•œê³„ë¥¼ í•´ê²°í•´ì¤€ë‹¤â€ ì´ì™¸ì˜ ëŠë¼ëŠ” ìž¥ì ì´ ë”°ë¡œ ìžˆëŠ”ì§€?

### ðŸ A. 

- StateFlow, SharedFlow ê°€ LiveData ëŒ€ë¹„ ì´ì ì´ ìžˆëŠ” ê²ƒì€ ë¹„ë‹¨ ì•„í‚¤í…ì²˜ ê´€ì  ë¿ë§Œì´ ì•„ë‹ˆë¼,
LiveData ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë©”ì¸ ì“°ë ˆë“œì—ì„œ ê°’ì„ ìºì‹±í•˜ë„ë¡ ë˜ì–´ìžˆëŠ” ê²ƒì— ë¹„í•´ Flow ëŠ” ë‹¤ì–‘í•œ ì“°ë ˆë“œì—ì„œ ë°ì´í„° ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ë˜í•œ Flowì˜ ë‹¤ì–‘í•œ APIë¥¼ í†µí•´ í’ë¶€í•œ í™œìš©ì´ ê°€ëŠ¥í•œ ê²ƒë„ ìž¥ì ìž…ë‹ˆë‹¤.

--- 

### ðŸŽ Q. FlowëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•  ìˆœ ìžˆì§€ë§Œ ì €ìž¥í•  ìˆœ ì—†ëŠ”ë°, ì–´ë–¤ì‹ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìžˆëŠ”ì§€?


### ðŸ A. 
1. í™”ë©´ì´ ìž¬êµ¬ì„± ë ë•Œë§ˆë‹¤ ë‹¤ì‹œ ì„œë²„ or DBë¡œë¶€í„° ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    
    -> ì´ëŠ” ë¹„íš¨ìœ¨ì ì¸ë° ì˜ˆë¥¼ë“¤ì–´, í™”ë©´ì´ íšŒì „ë˜ë©´ onDestoryê°€ í˜¸ì¶œëœ í›„ ë‹¤ì‹œ onCreateê°€ í˜¸ì¶œë˜ëŠ”ë°,
    ì´ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì„œë²„ë‚˜ DBë¡œë¶€í„° ê°€ì ¸ì™€ì•¼í•˜ëŠ” ë¬¸ì œì ,,
    
2. Flowë¡œ ë¶€í„° collectí•œ ë°ì´í„°ë¥¼ ViewModelì— ì €ìž¥í•´ë†“ê³  ì‚¬ìš©í•˜ê¸°
    
    â†’ flowë¥¼ êµ¬ë…í•˜ê³ , **ë°ì´í„° í™€ë” ë³€ìˆ˜ëŠ” flowì—ì„œ ë§ˆì§€ë§‰ìœ¼ë¡œ ë°œí–‰í•œ ë°ì´í„°ë¥¼ ì €ìž¥**í•˜ê³  ìžˆìœ¼ë©´ ë¨, ì„œë²„ë¡œ ë‹¤ì‹œ 
    ìš”ì²­ í•„ìš” ì—†ìŒ
    
    
    â†’ But, UIStateê°€ ì—¬ëŸ¬ê°œì´ê³ , ëª¨ë‘ë¥¼ êµ¬ë…í•˜ê¸° ìœ„í•´ ë¹„ìŠ·í•œ ì½”ë“œë¥¼ ë§¤ë²ˆ ìž‘ì„±í•´ì•¼í•œë‹¤ ? ì´ëŠ” Boiler Plate,,,
    
- ê·¸ëž˜ì„œ StateFlowë¥¼ ì´ìš©í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìžˆìŒ.
- 
- **ë°ì´í„° í™€ë”(ì €ìž¥ì†Œ) ì—­í• ì„ í•˜ë©´ì„œ Flowì˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ ì—­í• ê¹Œì§€ í•¨**
- í•­ìƒ ê°’ì„ ê°–ê³  ìžˆê³ , ì˜¤ì§ í•˜ë‚˜ì˜ ê°’ì„ ê°€ì§
- **Hot Stream ë°©ì‹**ìœ¼ë¡œ collectorê°€ ì—†ì–´ë„ ìƒì„± ì‹œ ë°”ë¡œ í™œì„±í™”ë˜ë©°, ê°’ì´ ì—…ë°ì´íŠ¸ ëœ ê²½ìš°ì—ë§Œ ë°˜í™˜
- ì—¬ëŸ¬ê°œì˜ collectorë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ì¤‘ë³µ ë¦¬ì†ŒìŠ¤ ìš”ì²­ì„ ë°©ì§€

---


### ðŸŽ Q. Flowê°€ ì•ˆì „í•˜ê²Œ ìˆ˜ì§‘ í•´ì œë˜ëŠ” ì‹œì ì„ ì–´ë–»ê²Œ ì¡°ì ˆí• ê±´ì§€?

### ðŸ A. 

- CoroutineScope ë¥¼ ì•¡í‹°ë¹„í‹°ë‚˜ ë·°ëª¨ë¸(lifecycleScope / viewModelScope)ì— ìž˜ í• ë‹¹í•´ì£¼ê³  í•´ì œí•´ ì¤„ìˆ˜ ìžˆì–´ì•¼ í•©ë‹ˆë‹¤.

onDestroyì‹œì— collectê°€ ì¤‘ë‹¨ë˜ê¸° ë•Œë¬¸ì—, ì•±ì´ ì¢…ë£Œë˜ì§€ ì•Šê³  ë°±ê·¸ë¼ìš´ë“œì— ë‚¨ì•„ìžˆìœ¼ë©´ collectê°€ í•´ì œë˜ì§€ ì•Šì•„ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë‚  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. 

ê·¸ëž˜ì„œ ìˆ˜ëª… ì£¼ê¸°ë¥¼ ì¸ì‹í•˜ì—¬ onStartì—ì„œ Job ìƒì„±ì„ ì‹œìž‘í•˜ê³  onStopì—ì„œ Jobì„ ìº”ìŠ¬í•˜ì—¬ ë°ì´í„° ìˆ˜ì§‘ì„ ì¤‘ë‹¨í•˜ëŠ” repeatOnLifecycle í•¨ìˆ˜ë¥¼ ì œê³µí•˜ì—¬ ì¡°ì ˆí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” 1íšŒì„± setup taskì— ì í•©í•©ë‹ˆë‹¤.

ì˜¤ì§ 1ê°œì˜ flowë§Œ collectí•  ê²½ìš° flowWithLifecycleì„ ì‚¬ìš©í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.

---

### ðŸŽ Q. flowWithLifecycleì— ëŒ€í•œ ì§ˆë¬¸

[[ì•ˆë“œë¡œì´ë“œ] ë¹ ë¥´ê²Œ ê°œë°œí•˜ë ¤ë©´ flowWithLifecycle](https://keelim.tistory.com/entry/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EB%B9%A0%EB%A5%B4%EA%B2%8C-%EA%B0%9C%EB%B0%9C%ED%95%98%EB%A0%A4%EB%A9%B4-flowWithLifecycle?category=1080005)

### ðŸŽ Q. flowë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ë°›ì•„ ì˜¬ ë•Œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ì§€? or ë°œìƒí•˜ëŠ” ì˜ˆì™¸ì— ëŒ€í•œ ì²˜ë¦¬ ê²½í—˜?
### ðŸŽ Q. collectì™€ collectLatest ì°¨ì´?
### ðŸŽ Q. Flowì™€ StateFlow ì°¨ì´?
### ðŸŽ Q. StateFlowì™€ SharedFlow ì°¨ì´?


--- 

ì¢‹ì€ ë§ì¸ê²ƒ ê°™ì•„ì„œ,,

> StateFlow ëŠ” Flow ë¥¼ í†µí•´ ë°œí–‰ëœ ìŠ¤íŠ¸ë¦¼ ë°ì´í„° ì¤‘ ê°€ìž¥ ë§ˆì§€ë§‰ ê°’ì„ ìºì‹± í•˜ëŠ” ê²ƒì¼ ë¿ìž„.
> 
> RxJava ë„ ë§ˆì°¬ê°€ì§€ì§€ë§Œ, ìŠ¤íŠ¸ë¦¼ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê¸°ë³¸ì ì¸ ì»¨ì…‰ì€ ë°ì´í„° ê³µê¸‰ìžëŠ” ë°ì´í„° ì†Œë¹„ìž(êµ¬ë…ìž)ì—ê²Œ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ëìž„.
> 
> ë³´ë‚´ì§„ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ëŠëƒëŠ” êµ¬ë…ìžì˜ ì—­í• ì´ë©°, StateFlow ì²˜ëŸ¼ ìµœì‹  ê°’ì„ ìºì‹±í•˜ëŠ” ê²ƒ ë˜í•œ ë‹¤ì–‘í•œ ë°ì´í„° ì²˜ë¦¬ ë°©ë²• ì¤‘ í•˜ë‚˜ì¼ ë¿.
> 
> ê°œë°œì„ í•˜ë‹¤ë³´ë©´ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ Stream ë°ì´í„°ë¥¼ ìºì‹±í•˜ì§€ ì•Šê³  ê·¸ë•Œê·¸ë•Œ ì²˜ë¦¬í•  ì¼ì´ ë§ŽìŒ. ë³´ì¡´(ìºì‹±)ì€ ê·¸ ì²˜ë¦¬í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²• ì¤‘ í•˜ë‚˜ì´ë‹¤!
> 

